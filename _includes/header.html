<header class="header">
  <div class="header__container">
    <div class="header__logo">
      <a href="{{site.url}}"><img src="{{site.url}}/img/logo.png"></a>
    </div>
    <div class="header__actions">
      <div class="dropdown">
        <a class="dropdown__button" href="{{site.url}}/documentation">Docs</a>
        <div class="dropdown__content docs">
          {% for doc in site.data.links.docs %}
            {% if doc.url %}
              <a href="{{doc.url}}">{{ doc.name }}</a>
            {% else %}
              <a href="{{site.url}}{{doc.localUrl}}">{{ doc.name }}</a>
            {% endif %}
          {% endfor %}
        </div>
      </div>
      <div class="dropdown">
        <a class="dropdown__button" href="https://github.com/opentracing">Github</a>
        <div class="dropdown__content language">
          {% for language in site.data.language.array %}
            <a href="{{language.url}}">{{ language.name }}</a>
          {% endfor %}
          <hr/>
          <a href="https://github.com/opentracing-contrib/meta">Contributions</a>
        </div>
      </div>

      <div class="dropdown">
        <a class="dropdown__button" href="{{site.url}}/documentation">Community</a>
        <div class="dropdown__content docs">
          {% for c in site.data.links.community %}
            {% if c.url %}
              <a href="{{c.url}}">{{ c.name }}</a>
            {% else %}
              <a href="{{site.url}}{{c.localUrl}}">{{ c.name }}</a>
            {% endif %}
          {% endfor %}
        </div>
      </div>

      <div class="dropdown">
        <a class="dropdown__button" href="{{site.url}}/documentation">Getting Started</a>
        <div class="dropdown__content docs">
          {% for g in site.data.links.gettingStarted %}
            {% if g.url %}
              <a href="{{g.url}}">{{ g.name }}</a>
            {% else %}
              <a href="{{site.url}}{{g.localUrl}}">{{ g.name }}</a>
            {% endif %}
          {% endfor %}
        </div>
      </div>

      <a href="https://medium.com/opentracing">Blog</a>
    </div>
    <div class="header__actions right">
      <a class="button white" href="https://groups.google.com/forum/#!forum/opentracing">Join the mailing list</a>
    </div>
  </div>

  <div class="header__container__mobile">
    <div class="header__logo">
      <a href="http://opentracing.io"><img src="{{site.url}}/img/logo.png"></a>
    </div>
    <div class="header__hamburger__button">☰</div>
    <div class="dropdown__content mobile">
      <div class="header__close__button">✕</div>

      <h3>Docs</h3>
      {% for doc in site.data.links.docs %}
        {% if doc.url %}
          <a href="{{doc.url}}">{{ doc.name }}</a>
        {% else %}
          <a href="{{site.url}}{{doc.localUrl}}">{{ doc.name }}</a>
        {% endif %}
      {% endfor %}

      <h3>Github</h3>
      {% for language in site.data.language.array %}
        <a href="{{language.url}}">{{ language.name }}</a>
      {% endfor %}

      <h3>Community</h3>
      {% for c in site.data.links.community %}
        {% if c.url %}
          <a href="{{c.url}}">{{ c.name }}</a>
        {% else %}
          <a href="{{site.url}}{{c.localUrl}}">{{ c.name }}</a>
        {% endif %}
      {% endfor %}

      <h3>Getting Started</h3>
      {% for g in site.data.links.gettingStarted %}
        {% if g.url %}
          <a href="{{g.url}}">{{ g.name }}</a>
        {% else %}
          <a href="{{site.url}}{{g.localUrl}}">{{ g.name }}</a>
        {% endif %}
      {% endfor %}

      <hr/>
      <a href="https://github.com/opentracing-contrib/meta">Contributions</a>

      <h3>Mailing List</h3>
      <a href="https://groups.google.com/forum/#!forum/opentracing">Join!</a>
    </div>
  </div>
</header>

<script type="text/javascript">

var _mobileMenuVisible = false;
var _mobileMenuContent = document.querySelector('.header__container__mobile');
var _openButton = document.querySelector('.header__hamburger__button');
var _closeButton = document.querySelector('.header__close__button');

function setState(state, classList) {
  _mobileMenuContent.setAttribute('class', classList);
  _mobileMenuVisible = state;
}

_openButton.addEventListener('click', function() {
  var classes = _mobileMenuContent.getAttribute('class')

  if(!_mobileMenuVisible) {
    setState(true, classes + ' active ');
  }
})

_closeButton.addEventListener('click', function() {
  var classes = _mobileMenuContent.getAttribute('class')

  if(_mobileMenuVisible) {
    setState(false, classes.replace(' active ', '') );
  }
})

</script>
